{% extends 'layout/admin_base.html' %}
{% load static %}

{% block title %}
User Management - Details Page
{% endblock %}

{% block component %}
<section class="p-4 sm:p-6 lg:p-8">

    <h2 class="text-center mb-10">
        Detalles del Usuario
    </h2>

    <div class="max-w-full mx-auto flex">
        <img src="{% static 'img/Shinobu.jpg' %}" alt="User Management Banner" class="w-1/3 h-auto rounded-l-xl object-cover hidden md:block">
        <div class="flex-1 bg-gray-900/80 container-neon border-image rounded-xl p-8 sm:p-10 shadow-2xl transition duration-500 hover:shadow-primary/50">

            <div class="flex items-center space-x-4 mb-8 border-b border-gray-700 pb-4">
                <i class="fas fa-user-circle text-4xl text-primary "></i>
                <h3 class="text-2xl font-bold text-light">
                    {{ user.first_name }} {{ user.last_name }}
                </h3>
            </div>

            <div class="grid grid-cols-1 sm:grid-cols-2 gap-x-10 gap-y-4 text-light/90">

                <div class="space-y-4">
                    <p class="border-b border-gray-800 pb-2">
                        <strong class="text-primary block text-sm mb-0.5">Nombre de Usuario:</strong>
                        {{ user.username }}
                    </p>
                    <p class="border-b border-gray-800 pb-2">
                        <strong class="text-primary block text-sm mb-0.5">Nombre:</strong>
                        {{ user.first_name }}
                    </p>
                    <p class="border-b border-gray-800 pb-2">
                        <strong class="text-primary block text-sm mb-0.5">Apellido:</strong>
                        {{ user.last_name }}
                    </p>
                </div>

                <div class="space-y-4">
                    <p class="border-b border-gray-800 pb-2">
                        <strong class="text-primary block text-sm mb-0.5">Correo:</strong>
                        {{ user.email }}
                    </p>
                    <p class="border-b border-gray-800 pb-2">
                        <strong class="text-primary block text-sm mb-0.5">Rol:</strong>
                        <span class="px-2 py-0.5 rounded-full text-xs font-semibold bg-blue-700/50 text-blue-300">
                            {{ user.role|capfirst }}
                        </span>
                    </p>
                    <p class="border-b border-gray-800 pb-2">
                        <strong class="text-primary block text-sm mb-0.5">Ãšltimo Login:</strong>
                        {{ user.last_login|default:"Nunca" }}
                    </p>
                </div>

                <div class="space-y-4">
                    <p class="border-b border-gray-800 pb-2">
                        <strong class="text-primary block text-sm mb-0.5">CI:</strong>
                        {{ person.ci }}
                    </p>
                    <p class="border-b border-gray-800 pb-2">
                        <strong class="text-primary block text-sm mb-0.5">Numero de Telefono:</strong>
                        {{ person.phone }}
                    </p>
                </div>

                <div class="space-y-4">
                    <p class="border-b border-gray-800 pb-2">
                        <strong class="text-primary block text-sm mb-0.5">Direccion:</strong>
                        {{ person.address }}
                    </p>
                    <p class="border-b border-gray-800 pb-2">
                        <strong class="text-primary block text-sm mb-0.5">Fecha de Nacimiento:</strong>
                        {{ person.birth_date|date:"d M Y" }}
                    </p>
                </div>

                <div class="sm:col-span-2 mt-4 pt-4 border-t border-gray-700">
                    <p>
                        <strong class="text-primary block text-sm mb-0.5">Fecha de Ingreso:</strong>
                        {{ user.date_joined|date:"d M Y, H:i" }}
                    </p>
                </div>
            </div>

            <div class="mt-8 flex flex-col sm:flex-row justify-end space-y-4 sm:space-y-0 sm:space-x-4 border-t border-gray-700 pt-6">

                <a href="{% url 'administration:edit_user' user.id %}"
                   class="btn-action bg-yellow-600 hover:bg-yellow-700 text-white font-semibold py-2 px-4 rounded-md flex items-center justify-center transition duration-300">
                    <i class="fa-solid fa-pencil mr-2"></i>
                    Edit User
                </a>

                <a href="{% url 'administration:dashboard' %}"
                   class="btn-action bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-md flex items-center justify-center transition duration-300">
                    <i class="fa-solid fa-arrow-left mr-2"></i>
                    Back to User List
                </a>

                <a href="{% url 'administration:delete_user' user.id %}"
                   class="btn-action bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded-md flex items-center justify-center transition duration-300">
                    <i class="fa-solid fa-trash-can mr-2"></i>
                    Delete User
                </a>
            </div>

        </div>
    </div>
</section>
{% endblock %}